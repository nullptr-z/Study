## 微服务

代码模块分割/解耦、数据库分割，每个服务都有自己数据库
模块自己保证自己数据访问的安全性，模块接口就是与之唯一交互途径；加强隔离性。不提供数据库与数据库之间的直接交互
模块与模块之间交互，为了更好的性能通常使用 rpc

模块实现语言自由、数据自由、发布自由，突出一个**独立性**

## 单体应用痛点/为什么使用微服务

- 代码管理复杂，通常出现在多人分模块同时开发；开发》测试》合并》冲突》回归测试》再次合并
- 其中一个模块对性能需求增高，需要换编程语言，必须整个项目都换开发语言；成本极其庞大；重构项目，程序员学习
- 升级库，多个模块都是用到了这个库，那这些模块都需要测试
- 如果一个模块中某个地方经常需要改动，就可以把它抽出来独立成一个微服务

## 微服务架构相比单体服务有更高要求

- 资源分配：微服务需要多个服务独立部署，每个服务可能都需要单独的资源，如 CPU、内存等，从而整体上需要更多的资源。
- 网络通信：微服务之间通过网络通信，这要求网络性能好，以减少服务间调用的延迟。
- 服务发现与负载均衡：需要额外的机制来支持服务发现和负载均衡，这可能需要额外的服务器和软件支持。
- 数据存储：微服务架构中，各个服务可能需要独立的数据库，这样在存储方面可能会有更高的要求。
- 监控和日志：微服务架构下，监控和日志收集更为复杂，需要更多的资源来维护这些系统。

这意味着需要更多的硬件资源、网络维护工作，由此容器、devops 兴起
也许正是因为硬件资源相比廉价了，微服务才得以流行起来

解耦也通常伴随着更多的初期工作，更多的层次：

- 设计复杂性、基础设施搭建、团队协作、数据管理一致性同步问题

## 微服务管理中心

- 注册中心，每个微服务都需要注册登记自己 IP:PORT，注册中心负责检查服务是否运行正常
- 服务发现，使用注册中心的信息返给调用者，服务的 IP，是否还在运行，压力情况
- 配置中心，sql、Redis 、短信等各种组件的配置
- 链路追踪，例如一条调用链的日志

## 微服务网关

路由、服务发现、鉴权、熔断、黑名单、负载均衡。。
