闭包是一种匿名类型，一旦声明，就会产生一个新的类型，但这个类型无法被其它地方使用。这个类型就像一个结构体，会包含所有捕获的变量。

可以将 rust 闭包简单理解为编译后会存在于可执行文件代码段中的一个结构。结构中包含一个可以调用的函数，以及可能被需要的，从声明闭包的上下文中捕获的额外数据
就像是在代码段中的，子代码段，这时，如果*被捕获的变量是可变引用*，在这个闭包后续的代码中将不能再使用这个变量的引用；所有权规则：上下文中只能存在一个可变或者多个不可变引用

# 闭包三个核心 Trait

对捕获变量的三种权限控制

## FnOnce

```rs
// Trait的定义
call_once(self, args)
```

第一个参数为 self，也就是说一旦调用该闭包，闭包在调用时会消费自身的所有权，即闭包内部使用的环境变量的所有权被转移给闭包。
这适用于需要在闭包内部获取环境变量所有权的场景。使用 move 关键字来标识闭包。

## FnMut

捕获变量可变引用，表示可以被多次调用，但是在调用时可能会修改自身的函数对象;继承了 FnOnce

```rs
// Trait的定义
call_once(&mut self, args)
```

## Fn

捕获变量不可变引用，表示可以被多次调用，但是在调用时不会修改自身的函数对象，继承了 FnMut

```rs
// Trait的定义
call_once(&self, args)
```
