_实际上路由器上是有 CPU、内存、存储设备的，所以它是能运行路由器操作系统的_

## 路由器结构

#### 输入端口：

> 1. 线路端接：与链路层相连
> 2. 数据链路协议拆封
> 3. 到来的数据在这里排队,等待从`转发表`中`查找`输出端口

> 交换结构：通过总线将输入和输出接口相连，它们是交错的，被称作网络路由器中的网络

#### 路由选择处理器

执行控制平面的功能；通过路由选择表选择出路；运行 SDN ；网络管理软件；DCHP

> 最核心的功能就是，计算和更新转发路由表
> 方案一：使用路由选择协议与其他网络路由器线路选择处理器呼叫
> 方案二：接受来自远程 SDN 控制器的转发表

> 输出端口：

## 等待队列

通过网口(电缆调制器 NIC)到达的数据，可能是很快的，数据包被中断处理程序打入内存中缓冲队列，有专门 IP 线程去将这些数据读出来

实际上方案有很多，不过对网络上层协议没影响

过时设计，需要 CPU 参与，这是很不效率的，如今来说

## DMA 环，E1000 网卡

这是一个现代的网卡设计，驱动程序告诉网卡在内存中，有个位置专门给他存放到来数据，那是个环形缓冲区；这不需要 CPU 参与吗？

RX 指针指向接受缓冲区
TX 指针指向发送缓冲区

## 转发表
