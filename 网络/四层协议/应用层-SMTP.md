*基于 TCP 协议*

## 代理服务器
例如 Google邮箱、QQ邮箱，提供的服务，以报文列队形式收发客户邮件
> 不同的代理服务之间是可以发送邮箱的
> 还负责处理转发的给接收方时的一些错误，例如没有发送成功（回到服务器的`报文列队`尾部），会多次尝试重发，最终也没成功的话还会告知发送方
> 提供定时转发、撤回等功能
> 发送失败的情况：网络异常、跨境丢包、接受代理服务异常
> 通常代理服务之间都是直连的，在不同国家的代理服务亦是如此

## 发送流程
发送端 -> 发送端邮件服务器 --SMTP协议--> 接收端邮件服务器 -> 接收端
1. 发送放邮件，由他的注册的代理服务器接受
2. 代理服务器，负责发送到接受邮箱的代理服务器
3. 接受方服务器转给对应接受者的邮箱，这个邮箱位于代理服务器（远程邮箱）

实际上只有发送和接受端服务器，推数据使用SMTP协议
接受者/发送者需要从远程邮箱收发报文对象，需要使用到 POP3/IMAP/HTTP协议(web 浏览器)


## 传输限制
历史原因所致，SMTP 协议其报文只能使用 7 比特的 ASCII 进行编码
在现在如果要发送多媒体文件需要转码到 ASCII 才能发送，接收方还要转换回去，这是很痛苦的

## 与 HTTP 的区别
1. HTTP 主要是从服务器拉取（pull protocol）, SMTP 则是推（push,发送者推送到接受者）
2. HTTP 没有 ASCII 这种编码限制
3. HTTP 把每个对象资源都是独立封装到报文中的，SMTP 是所有对象封装到一个报文里面

