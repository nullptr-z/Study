TCP 几个阶段的发展

> 确认机制，序号和确认号，也就是 ack/seq，这是每个版本 TCP 都有的，是 TCP 可靠的基础

1. 最开始是单向的，你发给我，我给你响应，也就是确认后才给响应--stop and await

- 进一步可靠，增加定时器，超时重传

2. 然后出现了 goback n,他是单滑动窗口的，多个发送，单个确认，形成了流水线（优先列队），但是他的缺点是，如果丢失了一个，那么后面的都要重传

3. 然后出现了 selective repeat，他是多滑动窗口的，多个发送，同时处理多个确认（到达的请求是乱序的），每个报文对应一个定时器，只需要重传超市那个请求，他的缺点是，消耗比较大

4. 最后就是现在的 TCP，通过一个定时器，记录发送缓冲器内，最早发送的报文段，如果他超时，在这之后的所有报文段都要重传； 核心思想是，最早发送如果丢失和后面的也大概率丢失。干脆都重传，继而引出了，累计确认快出重传，这些机制

---

三次握手这个过程是缓慢的，前两次握手都不能携带数据；还要为连接创建不少资源耗时；有些时候我们只需要简短的交互几次甚至一次，三次握手建立连接占用了不少时间，但 UDP 又不可靠

就像给家人打电话：你打电话，等待，对方接听，互相喂，确认对方能听到了，开始聊家常。。。；

如果是给欠债的人打电话：等他接电话等了好久，刚接通，对方就说现在有事，把电话挂了；
