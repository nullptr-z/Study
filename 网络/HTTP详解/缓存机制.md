## 优先级

强缓存 > Cache > Expires > 协商缓存 > Etag > Modified

## 强缓存

识别强缓存：响应状态码后面会标注 (from disk cache)

两种缓存机制：
Cache-Control， 是一个相对时间，多少秒后过期；优先级高
Expires,是一个绝对时间；指定过期的日期时间

1. 服务在响应资源时设置，Cache-Control，资源过期时间到
2. 浏览器发起请求时如果在时间内，直接使用缓存，否则像服务器发起请求
3. 服务器重新设置时间

## 协商缓存

Etag 资源唯一 ID 标识:

- 如果响应头里存在 Etag，浏览器会在`If-None-Match`里携带它发送请求
- 服务器检查发送过来 Etag 是否还有效，浏览器这边在资源更新会后重新生成 Etag

Modified 方式:

- 浏服务发起请求，并把`If-Modified-Since`更新为，上一次服务器响应的`Last-Modified`的时间。服务器检查时间
- 如果没有发生更改，服务器响应‘304’: 表明没有发生更改，告诉客户端本地缓存有效，避免服务器再次传送数据
- 如果在这候之后网页已经发生修改，则在响应报文中返回数据,同时更新`Last-Modified`；

Etag 的优先级比 Modified 高：

- 处于某些原因 Modified 在数据没有跟新的时候，可能会把时间更新
- Modified 时间颗粒度是秒，Etag 则是在资源更新后立即改变
- 时间在不同电脑上取值有误差
