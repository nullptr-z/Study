一般做 Web 开发只需要使用服务端证书，但是 TLS 是支持双向验证的，服务端可以验证客户端是否是自己认识的 CA 签发的

## 封装自定义协议

基于 TCP，使用 TLS + Protobuf 封装自定义的应用层协议

1. 创建 TCP 链接，绑定服务端口
2. 创建 TLS,需要加载证书，如果没有的话，需要找 CA 签发；Let's Encrypt 一个免费自动化的证书签发机构
3. 在 TCP Stream 上包一层 TLS
4. 再使用 Post 来封包/解包 Frame；就可以发出去

## CA: 认证机构

根证书（CA 的证书）是带外的方式，操作系统安装时就有了

之后其他单位只需要向 CA 申请颁发证书就行了，被信任者又可以给其他单位颁发证书

全世界自由十几个 Root CA

## Let's Encrypt

借助客户端工具，如 Certbot，是 Let's Encrypt 官方推荐的一个客户端

它会在服务器上启动一个临时的 Web 服务器，验证你对该域名的控制权，并生成证书
